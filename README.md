## WhiteBird docs

Документация по интеграции с сервисом WhiteBird

## Содержание
- [Типы интеграций](#типы-поддерживаемых-интеграций)
- [Шаги для обмена](#необходимые-шаги-для-реализации-обмена)
- [Концепция мерчантов](#концепция-мерчантов)
- [Агент по идентификации](#агент-по-идентификации-пользователей)
- [Ограничения](#ограничения)
---
### Типы поддерживаемых интеграций
- **SDK** - коробочное решение, позволяющее максимально быстро добавить функционал мгновенного обмена в сервис партнёра [документация SDK](./sdk/README.md)
- **API** - взаимодействие backend to backend с сервисом WhiteBird, фронтенд партнёра
- **SDK&API** - смешанное решение, оговаривается отдельно.
---
### Необходимые шаги для реализации обмена
#### Начальные шаги:
- Согласие пользователя с офертой WhiteBird 
- Создание аккаунта пользователя на платформе WhiteBird c актуальными* ПД
- Ожидание верификации аккаунта _(может занимать до 72 часов, обычно намного быстрее)_
- Прохождение пользователем крипто-теста _(актуально только для граждан РБ)_
- Добавление платежного средства к аккаунту _(актуально только для интеграции с картами)_

[документация API для шагов выше](./onboardingAPI/README.md)

#### OnRamp(покупка криптовалюты)
- Выбор пользователем активов
- Выбор средства платежа
- Добавление кошелька для зачисления средств(пользователь должен подтвердить, что кошелёк принадлежит ему)
- Получение условий обмена по выбранным параметрам
- Согласие пользователя с условиями обмена
- Создание заявки

Во время исполнения заявки WhiteBird:
- Списание фиата с выбранного средства платежа в пользу WhiteBird
- Зачисление криптовалюты на указанный кошелёк
- Завершение заявки

#### OffRamp(продажа криптовалюты)
- Выбор пользователем активов
- Выбор средства для зачисления средств
- Получение условий обмена по выбранным параметрам
- Согласие пользователя с условиями обмена
- Создание заявки
- Получение адреса для зачисления криптовалюты пользователем
> максимальное время для зачисления криптовалюты 30 минут!

В рамках исполнения заявки WhiteBird:
- Ожидает поступление криптовалюты
- Ожидаем необходимое количество блоков после прохождение транзакции
- Зачисление фиата на выбранное средство платежа в пользу клиента от WhiteBird
- Завершение заявки

[документация OnRamp/OffRamp API](./exchangeAPI/README.md)

---

### Концепция мерчантов

SDK WhiteBird работает по концепции мерчантов. Пользователь совершает транзакции на платформе всегда используя мерчанта. По умолчанию это мерчант WhiteBird, но в случае интеграции с партнёрами, мерчантом становится партнёр. Каждый клиент WhiteBird является мерчантом для нас, что позволяет гибко настроить взаимодействие:
- личный админ кабинет мерчанта
- отдельный учёт транзакций пользователя
- настройка индивидуальных условий по комиссиям
- настройка фиатных средств списания/пополнения для клиентов
- индивидуальные условия заработка мерчанта

---

### Агент по идентификации пользователей

Каждый партнёр WhiteBird может стать для нас "агентом по идентификации" пользователей, после прохождения аудита нашим отделом AML.

Это открывает возможности для платформы приводить своих пользователей в WhiteBird без дополнительной регистрации на WhiteBird, в данном случае регистрацию пользователя будет осуществлять партнёр.
WhiteBird получает все необходимые для регистрации данные через **backend to backend** взаимодействие по REST API, c помощью API Key мерчанта.

---

### Ограничения
- Все финансовые операции должны совершаться между WhiteBird и клиентом. фиатные средства - карты, банковские счета, игорные счета. Криптоактивы - только крипто-кошельки клиента
- От агентов по идентификации **актуальными** ПД, считаются данные обновленные/полученные не раньше **трёх** дней до передачи WhiteBird. _(Достаточно просто подтверждения пользователя во время передачи, что данные актуальны)_
